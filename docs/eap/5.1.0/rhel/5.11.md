# jboss 5.1.0 rhel 5.11

## References
* https://access.redhat.com/articles/113083
* https://access.redhat.com/articles/111663
* https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.2/pdf/Installation_Guide/JBoss_Enterprise_Application_Platform-6.2-Installation_Guide-en-US.pdf
* http://stackoverflow.com/questions/4560591/problem-while-starting-jboss-in-linux
* http://serverfault.com/questions/156909/jboss-tools-allow-remote-access-to-localhost8080
* http://stackoverflow.com/questions/6204784/jboss-only-works-on-localhost8080-but-doesnt-reply-when-called-by-ip
* https://docs.jboss.org/jbossas/docs/Installation_Guide/4/html/setting_JBOSS_HOME_linux.html

In this tutorial $DEV refers to /home/bachmeb/DEV on my system. For consistency, you can choose any directory you like to be your DEV directory. 

##### Download and install Java JDK 1.6
* https://github.com/bachmeb/java-jdk/

##### Login to Red Hat
* http://access.redhat.com

##### Get a direct link to Application Platform 5.1.0 Binary
* https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?downloadType=distributions&product=appplatform&version=5.1.0

##### Download Application Platform 5.1.0 Binary
*Each direct link provided by Red Hat is unique and expires after a short amount of time*
```
cd ~/Downloads
wget https://access.redhat.com/cspdownload/[this is the random]/[part of the url]/JBEAP-5.1.0/jboss-eap-5.1.0.zip
```

##### Create a jboss directory is /usr/share
```
sudo mkdir /opt/jboss
```

##### Give your account permission to write to the jboss directory
```
sudo chown -R [YOUR USER ACCOUNT] /opt/jboss
```

##### Unzip the contents of jboss-eap-5.1.0.zip
```
cd /usr/share/jboss
unzip ~/Downloads/jboss-eap-5.1.0.zip
```

##### List the contents of the new directory
```
ls -laR /opt/jboss/jboss-eap-5.1
```

##### Set the JBOSS_HOME environment variable
```
export JBOSS_HOME='/usr/share/jboss/jboss-eap-5.1/jboss-as'
```

##### Echo the JBOSS_HOME environment variable
```
echo $JBOSS_HOME
```

##### List the contents of the JBOSS_HOME/ directory
```
ls -l $JBOSS_HOME
```

##### Add the command to set $JBOSS_HOME to the .bashrc file
```
echo 'export JBOSS_HOME="/opt/jboss/jboss-eap-5.1/jboss-as"' >> ~/.bashrc
```

##### List the contents of the bin directory
```
ls -l $JBOSS_HOME/bin
```

##### Add the bin directory to PATH 
```
export PATH=$PATH:$JBOSS_HOME/bin
```

##### Add the command to set $JBOSS_HOME to the .bashrc file
```
echo 'PATH=$PATH:$JBOSS_HOME/bin' >> ~/.bashrc
```

##### Read the .bashrc file
```
cat ~/.bashrc
```

##### Read the startup script 
```
less $JBOSS_HOME/bin/run.sh 
```

##### Run the startup script 
```
sudo $JBOSS_HOME/bin/run.sh 
```

##### Install lynx
```
sudo yum install lynx
```

##### Go to the JBoss welcome page
* http://localhost:8080/

##### Check the current firewall settings
```
sudo /sbin/iptables -L
```
```c
Chain INPUT (policy ACCEPT)
target     prot opt source               destination
RH-Firewall-1-INPUT  all  --  anywhere             anywhere

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination
RH-Firewall-1-INPUT  all  --  anywhere             anywhere

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination

Chain RH-Firewall-1-INPUT (2 references)
target     prot opt source               destination
ACCEPT     all  --  anywhere             anywhere
ACCEPT     icmp --  anywhere             anywhere            icmp any
ACCEPT     esp  --  anywhere             anywhere
ACCEPT     ah   --  anywhere             anywhere
ACCEPT     udp  --  anywhere             224.0.0.251         udp dpt:mdns
ACCEPT     udp  --  anywhere             anywhere            udp dpt:ipp
ACCEPT     tcp  --  anywhere             anywhere            tcp dpt:ipp
ACCEPT     all  --  anywhere             anywhere            state RELATED,ESTABLISHED
ACCEPT     tcp  --  anywhere             anywhere            state NEW tcp dpt:ssh
REJECT     all  --  anywhere             anywhere            reject-with icmp-host-prohibited
```

##### Stop JBoss
* ctrl-c

##### Use the service command to check the status of the iptables service
```
sudo /sbin/service iptables status
```

##### Go to the JBoss welcome page
* http://[hostname]:8080/

##### Enable the admin username and password for the JBoss EAP Admin Console
```
# A sample users.properties file for use with the UsersRolesLoginModule
admin=admin
```

```
# A sample users.properties file for use with the UsersRolesLoginModule
admin=admin
```

##### Restart JBoss and use 0.0.0.0 as the bind address to listen to traffic from any IP address
```
sudo $JBOSS_HOME/bin/run.sh -b 0.0.0.0
```

##### Go to the admin console
* http://[hostname]:8080/admin-console/

##### Login with the admin credentials
* admin/admin

```
16:35:48,308 INFO  [BootstrapAction] Initializing Administration Console v1.3.4.SP1...
16:35:54,577 INFO  [PluginContainerResourceManager] Discovering Resources...
```

##### Go to the JMX console
* http://localhost:8080/jmx-console/

##### Login with the admin credentials
* admin/admin
